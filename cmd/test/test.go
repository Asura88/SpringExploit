package main

import (
	"fmt"
)

type T struct {
	A int
	B string
}

func (t T) toString() interface{} {
	return t
}

func main() {

	urls := []string{"http://golang.org", "http://godoc.org", "http://play.golang.org", "http://gopl.io", "http://golang.org"}

	i := 0
	k := 3
	for i < len(urls) {
		for j := 0; j < k; j++ {
			if i == len(urls) {
				break
			}
			c := make(chan int)
			go say(urls[i], i, c)
			i = <-c
		}
	}

}

func say(url string, i int, c chan int) {
	fmt.Println(url)
	i++
	c <- i

}
