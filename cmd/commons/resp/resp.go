package resp

import (
	"github.com/imroc/req/v3"
	log "github.com/sirupsen/logrus"
)

func HandlerRespHeader(rsp *req.Response, key string) string {
	log.Debugf("HandlerRespHeader: %s", key)
	res := rsp.Header.Get(key)
	//// 提取响应头中key的值
	//// 将res中的响应头部分按行分割
	//log.Debugf("HandlerRespHeader: %s", res)
	//lines := strings.Split(res, "\r\n")
	//if len(lines) < 2 {
	//	lines = strings.Split(res, "\n")
	//}
	//// 寻找存在key的那一行
	//for _, line := range lines {
	//	// 如果存在key，则返回key对应的值
	//	if strings.Contains(line, key) {
	//		return strings.TrimSpace(strings.Split(line, " ")[1])
	//	}
	//}

	if res == "" {
		return ""
	}

	return res

}
